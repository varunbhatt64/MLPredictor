<%- include ("partials/header.ejs") %>
<div class="ui main text container segment">
    <div class="ui blue huge header">Edit Model - <%=data.model.name%></div>
    <form class="ui form segment" action="/models/<%=data.model._id%>?_method=PUT" method="POST">
        <div class="field">
            <label>Name</label>
            <input type="text" name="model[name]" placeholder="name" value="<%=data.model.name%>">
        </div>
        <div class="field">
            <label>Algorithm</label>
            <select class="ui dropdown" name="model[algorithm]">
                <%data.algorithms.forEach(function(algorithm){%>
                <% let selected = ( algorithm.name === data.model.algorithm.name ) ? "selected" : "";%>
                <option value=<%=algorithm._id%> <%=selected%> > <%=algorithm.name%></option>
                <%});%>
            </select>
        </div>
        <div class="field">
            <label>Input CSV URL</label>
            <input type="text" name="model[inputPath]" placeholder="input csv url" value=<%=data.model.inputPath%>>
        </div>
        <div class="field">
            <label>Prediction Label</label>
            <input type="text" name="model[label]" placeholder="prediction label" value=<%=data.model.label%>>
        </div>
        <div class="field">
            <label>Desription</label>
            <textarea name="model[description]" placeholder="description"><%=data.model.description%></textarea>
        </div>

        <div class="field">
            <div class="ui checkbox">
                <input type="checkbox" id="default" name="model[isTrained]" value=true <%=data.model.isTrained ? "checked" : "" %>>
                <label>Pre-trained</label>
            </div>
        </div>

        <input class="ui violet basic button" type="submit" value="Update">
        <a class="ui violet basic button" href="javascript:history.back()">Cancel</a>
    </form>
</div>
<%- include ("partials/footer.ejs") %>